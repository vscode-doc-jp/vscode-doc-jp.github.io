<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8"><title>独自のスニペットを作成 | VS Code Docs</title><meta name="description" content="Visual Studio Code (VS Code) Docs の日本語訳"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="https://vscode-doc-jp.github.io/docs/userguide/userdefinedsnippets.html"><link rel="stylesheet" href="/css/navy.css"><link rel="stylesheet" href="/css/accordion.css"><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"><link rel="alternate" href="/atom.xml" title="VS Code Docs"><script>!function(e,t,a,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=t.createElement(a),s=t.getElementsByTagName(a)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-92801937-1","auto"),ga("send","pageview")</script></head><body><div id="container"><header id="header" class="wrapper"><div id="header-inner" class="inner"><h1 id="logo-wrap"><a href="/" id="logo">Visual Studio Code</a></h1><nav id="main-nav"><a href="/docs/" class="main-nav-link">Docs</a><a href="/updates/" class="main-nav-link">Updates</a><div id="search-input-wrap"><div id="search-input-icon"><i class="fa fa-search"></i></div><input type="search" id="search-input" placeholder="Search..."></div></nav><a id="mobile-nav-toggle"><span class="mobile-nav-toggle-bar"></span> <span class="mobile-nav-toggle-bar"></span> <span class="mobile-nav-toggle-bar"></span></a></div></header><div id="content-wrap"><div id="content" class="wrapper"><div id="content-inner"><article class="article-container" itemscope itemtype="http://schema.org/Article"><div class="article-inner"><div class="article"><div class="inner"><header class="article-header"><h1 class="article-title" itemprop="name">独自のスニペットを作成</h1><a href="https://github.com/vscode-doc-jp/Docs/edit/master/userguide/userdefinedsnippets.md" class="article-edit-link" title="Improve this doc"><i class="fa fa-pencil"></i></a><h2><time class="article-updated" data-position="header" datetime="2017-03-29T07:41:14.141Z" itemprop="dateModified">Last updated: 2017-03-29</time></h2></header><div class="article-content" itemprop="articleBody"><p>コードスニペットとは、ループや条件文など繰り返し使うコードパターンを簡単に生成するテンプレートのことです。</p><p>スニペットはIntelliSense(<span class="dynamic-keybinding" data-osx="⌃Space" data-win="Ctrl+Space" data-linux="Ctrl+Space"><span class="keybinding">⌃Space</span> (Windows, Linux <span class="keybinding">Ctrl+Space</span>)</span>)に他の提案や専用のスニペット選択(<strong>Insert Snippet</strong>)と組み合わせて表示します。タブ補完サポートもしています。<code>&quot;editor.tabCompletion&quot;: true</code>を有効にして<em>snippet prefix</em>を入力したら<span class="dynamic-keybinding" data-osx="Tab" data-win="Tab" data-linux="Tab"><span class="keybinding">Tab</span></span>を押してスニペットを挿入可能です。</p><p>スニペット構文をサポートしていない’regular expression replacements’, ‘interpolated shell code’、’transformations’を除いて、<a href="https://manual.macromates.com/en/snippets" target="_blank" rel="external">TextMate snippet syntax</a>に従います。</p><video id="snippets-showcase" src="https://az754404.vo.msecnd.net/public/snippets_showcase.mp4" placeholder="/images/userdefinedsnippets_snippets_placeholder.png" autoplay loop controls muted><br>Sorry you’re browser doesn’t support HTML 5 video.<br></video><h2 id="Marketplaceからスニペットを追加" class="article-heading"><a href="#Marketplaceからスニペットを追加" class="headerlink" title="Marketplaceからスニペットを追加"></a>Marketplaceからスニペットを追加<a class="article-anchor" href="#Marketplaceからスニペットを追加" aria-hidden="true"></a></h2><p>VS Code <a href="https://marketplace.visualstudio.com/vscode" target="_blank" rel="external">Marketplace</a> には多くの<a href="/docs/userguide/extension-gallery.html">拡張機能</a>を用意しています。使いたいものをインストールして再起動すれば、新しいスニペットが利用可能になります。(拡張機能インストールの詳細は<a href="/docs/userguide/extension-gallery.md#browse-and-install-extensions">ここ</a> for more instructions on installing an extension)を参照してください)</p><h2 id="独自のスニペットを作成" class="article-heading"><a href="#独自のスニペットを作成" class="headerlink" title="独自のスニペットを作成"></a>独自のスニペットを作成<a class="article-anchor" href="#独自のスニペットを作成" aria-hidden="true"></a></h2><p>特定の言語に独自のスニペットを定義することができます。<strong>ファイル</strong>(<strong>Code</strong>) &gt; <strong>基本設定</strong> &gt; <strong>ユーザースニペット</strong>を開いて、スニペットを定義可能です。</p><p>スニペットはJSON形式で定義し、ユーザーごとの<code>(languageId).json</code>に保存します。たとえばMarkdownスニペットは<code>markdown.json</code>に登録します。</p><p>次の例はJavaScriptの<code>For Loop</code>スニペットです。</p><figure class="highlight"><table><tr><td class="code"><pre><div class="line">"For Loop": &#123;</div><div class="line">    "prefix": "for",</div><div class="line">    "body": [</div><div class="line">        "for (var $&#123;1:index&#125; = 0; $&#123;1:index&#125; &lt; $&#123;2:array&#125;.length; $&#123;1:index&#125;++) &#123;",</div><div class="line">        "\tvar $&#123;3:element&#125; = $&#123;2:array&#125;[$&#123;1:index&#125;];",</div><div class="line">        "\t$0",</div><div class="line">        "&#125;"</div><div class="line">    ],</div><div class="line">    "description": "For Loop"</div><div class="line">&#125;,</div></pre></td></tr></table></figure><p>上記の例ですと:</p><ul><li><code>For Loop</code> : スニペットの名前。</li><li><code>prefix</code> : IntelliSenseとタブ補完の展開トリガーの値を定義します。この場合 <code>for</code> を入力すれば補完表示します。</li><li><code>body</code> : 展開されるコードやテキストを定義します。個々の要素が別々の行として挿入する単一の文字列か文字列の配列です。</li><li><code>description</code> : IntelliSenseで使用される説明。</li></ul><p>になります。</p><p>上記の例で、<code>${1:index}</code>、 <code>${2:array}</code>、<code>${3:element}</code>の3つのプレースホルダを使用しました。これらは番号順にトラバース(横断)し、数字とコロンの後の文字列を挿入します。</p><p>なお新しくスニペットを追加したとき、再起動する必要はありません。</p><h2 id="スニペット-シンタックス" class="article-heading"><a href="#スニペット-シンタックス" class="headerlink" title="スニペット シンタックス"></a>スニペット シンタックス<a class="article-anchor" href="#スニペット-シンタックス" aria-hidden="true"></a></h2><p><code>body</code>は特殊な構文を使ってカーソルと挿入テキストを制御できます。サポートする機能と構文を次に示します:</p><h3 id="タブストップ" class="article-heading"><a href="#タブストップ" class="headerlink" title="タブストップ"></a>タブストップ<a class="article-anchor" href="#タブストップ" aria-hidden="true"></a></h3><p>タブストップを使用すると、カーソルをスニペットの指定場所に移動させることができます。カーソル位置を<code>$1</code>、<code>$2</code>のように指定します。番号順にカーソルを移動しますが<code>$0</code>は最終的なカーソル位置を示します。同じ番号のタブストップは、入力文字をリンクし同期します。</p><h3 id="プレースホルダ" class="article-heading"><a href="#プレースホルダ" class="headerlink" title="プレースホルダ"></a>プレースホルダ<a class="article-anchor" href="#プレースホルダ" aria-hidden="true"></a></h3><p>プレースホルダとは<code>${1:foo}</code>のような値をもつタブストップです。 まずプレースホルダテキストを入力して、容易に内容を変更できるように選択状態になります。プレースホルダは<code>${1:another ${2:placeholder}}</code>のように入れ子にすることができます。</p><h3 id="変数" class="article-heading"><a href="#変数" class="headerlink" title="変数"></a>変数<a class="article-anchor" href="#変数" aria-hidden="true"></a></h3><p><code>$name</code>や<code>${name:default}</code>を使うことで、変数の値を挿入することができます。変数を設定していないときは、その<strong>default</strong>または空文字列を挿入します。変数が不明な場合(名前が定義されていない場合)、変数名を挿入してプレースホルダに変換します。次の変数を使用できます。<br>(編集メモ: defaultは何を指しているのかがわからない既定値? それとも上のdefault?)</p><ul><li><code>TM_SELECTED_TEXT</code> : 現在の選択テキストまたは空文字列</li><li><code>TM_CURRENT_LINE</code> : 現在行の内容</li><li><code>TM_CURRENT_WORD</code> : カーソル下の内容または空文字列</li><li><code>TM_LINE_INDEX</code> : 添字が0から始まるインデックス方式の行番号(0オリジン)</li><li><code>TM_LINE_NUMBER</code> : 添字が1から始まるインデックス方式の行番号(1オリジン)</li><li><code>TM_FILENAME</code> : 現在のドキュメント名</li><li><code>TM_DIRECTORY</code> : 現在のドキュメントのディレクトリ</li><li><code>TM_FILEPATH</code> : 現在のドキュメントへの完全なファイルパス</li></ul><h3 id="文法" class="article-heading"><a href="#文法" class="headerlink" title="文法"></a>文法<a class="article-anchor" href="#文法" aria-hidden="true"></a></h3><p>以下はスニペットのEBNFです。<code>\</code>(backslash)を使用することで<code>$</code>、<code>}</code>、<code>\</code>をエスケープできます。</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">any         ::= tabstop | placeholder | variable | text</div><div class="line">tabstop     ::= &apos;$&apos; int | &apos;$&#123;&apos; int &apos;&#125;&apos;</div><div class="line">placeholder ::= &apos;$&#123;&apos; int &apos;:&apos; any &apos;&#125;&apos;</div><div class="line">variable    ::= &apos;$&apos; var | &apos;$&#123;&apos; var &#125;&apos; | &apos;$&#123;&apos; var &apos;:&apos; any &apos;&#125;&apos;</div><div class="line">var         ::= [_a-zA-Z] [_a-zA-Z0-9]*</div><div class="line">int         ::= [0-9]+</div><div class="line">text        ::= .*</div></pre></td></tr></table></figure><h2 id="TextMate-Snippetsを使用する" class="article-heading"><a href="#TextMate-Snippetsを使用する" class="headerlink" title="TextMate Snippetsを使用する"></a>TextMate Snippetsを使用する<a class="article-anchor" href="#TextMate-Snippetsを使用する" aria-hidden="true"></a></h2><p>またTextMateスニペット(.tmSnippets)を使用することができます。詳細についてExtension Authoringセクションの<a href="/docs/extensions/themes-snippets-colorizers.md#using-textmate-snippets">Using TextMate Snippets</a>を参照してください。</p><h2 id="次のステップ" class="article-heading"><a href="#次のステップ" class="headerlink" title="次のステップ"></a>次のステップ<a class="article-anchor" href="#次のステップ" aria-hidden="true"></a></h2><ul><li><a href="/docs/userguide/command-line.html">Command Line</a> - VS Code has a rich command line interface to open or diff files and install extensions.</li><li><a href="/docs/extensions/overview.html">Extending Visual Studio Code</a> - Learn about other ways to extend VS Code.</li><li><a href="/docs/extensions/themes-snippets-colorizers.html">Themes, Snippets, and Colorizers</a> - You can package themes, snippets and language colorizers for use in VS Code.</li></ul><h2 id="よくある質問" class="article-heading"><a href="#よくある質問" class="headerlink" title="よくある質問"></a>よくある質問<a class="article-anchor" href="#よくある質問" aria-hidden="true"></a></h2><p><strong>Q: .tmSnippetファイルから既存のTextMateスニペットを使用したい場合はどうすればいいですか?</strong></p><p><strong>A:</strong> VS Codeで使用するTextMateスニペットファイルにパッケージ化する必要があります。詳細をExtension Authoringドキュメントの<a href="/docs/extensions/themes-snippets-colorizers.md#using-textmate-snippets">Using TextMate Snippets</a>で確認してください。</p></div><footer class="article-footer"><time class="article-updated" datetime="2017-03-29T07:41:14.141Z" itemprop="dateModified">Last updated: 2017-03-29</time></footer></div></div><aside id="article-toc" role="navigation"><div id="article-toc-inner"><strong class="sidebar-title">Contents</strong><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Marketplaceからスニペットを追加"><span class="toc-text">Marketplaceからスニペットを追加</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#独自のスニペットを作成"><span class="toc-text">独自のスニペットを作成</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#スニペット-シンタックス"><span class="toc-text">スニペット シンタックス</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#タブストップ"><span class="toc-text">タブストップ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#プレースホルダ"><span class="toc-text">プレースホルダ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#変数"><span class="toc-text">変数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文法"><span class="toc-text">文法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TextMate-Snippetsを使用する"><span class="toc-text">TextMate Snippetsを使用する</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#次のステップ"><span class="toc-text">次のステップ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#よくある質問"><span class="toc-text">よくある質問</span></a></li></ol><a href="#" id="article-toc-top">Back to Top</a></div></aside></div></article><aside id="sidebar" role="navigation"><div class="inner"><div class="accordion"><label class="sidebar-title" for="Setup">Setup<i></i></label><input id="Setup" type="checkbox"><div class="ac-cont"><a href="/docs/setup/setup-overview.html" class="sidebar-link">Overview</a><a href="/docs/setup/linux.html" class="sidebar-link">Linux</a><a href="/docs/setup/windows.html" class="sidebar-link">Windows</a><a href="/docs/setup/additional-components.html" class="sidebar-link">Additional Compnents</a></div><label class="sidebar-title" for="GetStarted">GetStarted<i></i></label><input id="GetStarted" type="checkbox"><div class="ac-cont"><a href="/docs/getstarted/themes.html" class="sidebar-link">Themes</a><a href="/docs/getstarted/settings.html" class="sidebar-link">Settings</a><a href="/docs/getstarted/keybindings.html" class="sidebar-link">Key Bindings</a><a href="/docs/getstarted/locales.html" class="sidebar-link">Display Language</a></div><label class="sidebar-title" for="UserGuide">UserGuide<i></i></label><input id="UserGuide" type="checkbox" checked><div class="ac-cont"><a href="/docs/userguide/intellisense.html" class="sidebar-link">IntelliSense</a><a href="/docs/userguide/versioncontrol.html" class="sidebar-link">Version Control</a><a href="/docs/userguide/userdefinedsnippets.html" class="sidebar-link current">Creating your own Snippets</a><a href="/docs/userguide/command-line.html" class="sidebar-link">Command Line</a><a href="/docs/userguide/accessibility.html" class="sidebar-link">Accessibility</a></div><label class="sidebar-title" for="Languages">Languages<i></i></label><input id="Languages" type="checkbox"><div class="ac-cont"><a href="/docs/languages/css.html" class="sidebar-link">CSS, Sass and Less</a></div><label class="sidebar-title" for="Supporting">Supporting<i></i></label><input id="Supporting" type="checkbox"><div class="ac-cont"><a href="/docs/supporting/requirements.html" class="sidebar-link">Requirements</a></div></div></div></aside></div></div></div></div><div id="mobile-nav-dimmer"></div><nav id="mobile-nav"><div id="mobile-nav-inner"><ul id="mobile-nav-list"><a href="/docs/" class="mobile-nav-link">Docs</a><a href="/updates/" class="mobile-nav-link">Updates</a></ul><strong class="mobile-nav-title">Setup</strong><a href="/docs/setup/setup-overview.html" class="mobile-nav-link">Overview</a><a href="/docs/setup/linux.html" class="mobile-nav-link">Linux</a><a href="/docs/setup/windows.html" class="mobile-nav-link">Windows</a><a href="/docs/setup/additional-components.html" class="mobile-nav-link">Additional Compnents</a><strong class="mobile-nav-title">GetStarted</strong><a href="/docs/getstarted/themes.html" class="mobile-nav-link">Themes</a><a href="/docs/getstarted/settings.html" class="mobile-nav-link">Settings</a><a href="/docs/getstarted/keybindings.html" class="mobile-nav-link">Key Bindings</a><a href="/docs/getstarted/locales.html" class="mobile-nav-link">Display Language</a><strong class="mobile-nav-title">UserGuide</strong><a href="/docs/userguide/intellisense.html" class="mobile-nav-link">IntelliSense</a><a href="/docs/userguide/versioncontrol.html" class="mobile-nav-link">Version Control</a><a href="/docs/userguide/userdefinedsnippets.html" class="mobile-nav-link current">Creating your own Snippets</a><a href="/docs/userguide/command-line.html" class="mobile-nav-link">Command Line</a><a href="/docs/userguide/accessibility.html" class="mobile-nav-link">Accessibility</a><strong class="mobile-nav-title">Languages</strong><a href="/docs/languages/css.html" class="mobile-nav-link">CSS, Sass and Less</a><strong class="mobile-nav-title">Supporting</strong><a href="/docs/supporting/requirements.html" class="mobile-nav-link">Requirements</a></div></nav><a id="scroll-to-top" role="button" aria-label="scroll to top" onclick="container.scrollTop=0"><span class="icon"></span></a><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script><script src="/js/toc.js"></script><script src="/js/mobile_nav.js"></script><script src="/js/plugins.js"></script></body></html>