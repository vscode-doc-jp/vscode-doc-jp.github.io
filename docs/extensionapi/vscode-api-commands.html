<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8"><title>Complex Commands Reference | VS Code Docs</title><meta name="description" content="Visual Studio Code (VS Code) Docs の日本語訳"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="https://vscode-doc-jp.github.io/docs/extensionapi/vscode-api-commands.html"><link rel="stylesheet" href="/css/navy.css"><link rel="stylesheet" href="/css/accordion.css"><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"><link rel="alternate" href="/atom.xml" title="VS Code Docs"><script>!function(e,t,a,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=t.createElement(a),s=t.getElementsByTagName(a)[0],o.async=1,o.src="https://www.google-analytics.com/analytics.js",s.parentNode.insertBefore(o,s)}(window,document,"script",0,"ga"),ga("create","UA-92801937-1","auto"),ga("send","pageview")</script></head><body><div id="container"><header id="header" class="wrapper"><div id="header-inner" class="inner"><h1 id="logo-wrap"><a href="/" id="logo">Visual Studio Code</a></h1><nav id="main-nav"><a href="/docs/" class="main-nav-link">Docs</a><a href="/updates/" class="main-nav-link">Updates</a><div id="search-input-wrap"><div id="search-input-icon"><i class="fa fa-search"></i></div><input type="search" id="search-input" placeholder="Search..."></div></nav><a id="mobile-nav-toggle"><span class="mobile-nav-toggle-bar"></span> <span class="mobile-nav-toggle-bar"></span> <span class="mobile-nav-toggle-bar"></span></a></div></header><div id="content-wrap"><div id="content" class="wrapper"><div id="content-inner"><header role="navigation"><div class="inner"><nav class="small_nav"><h4>Topics</h4><form name="SmallNav"><select class="small_nav_dropdown" name="doropdown" onchange="location.href=document.SmallNav.doropdown.options[document.SmallNav.doropdown.selectedIndex].value"><optgroup class="small-nav-title" label="Setup"><option value="/docs/setup/setup-overview.html" class="small-nav-link" undefined>Overview</option><option value="/docs/setup/linux.html" class="small-nav-link" undefined>Linux</option><option value="/docs/setup/windows.html" class="small-nav-link" undefined>Windows</option><option value="/docs/setup/additional-components.html" class="small-nav-link" undefined>Additional Compnents</option></optgroup><optgroup class="small-nav-title" label="GetStarted"><option value="/docs/getstarted/introvideos.html" class="small-nav-link" undefined>Intro Videos</option><option value="/docs/getstarted/userinterface.html" class="small-nav-link" undefined>User Interface</option><option value="/docs/getstarted/themes.html" class="small-nav-link" undefined>Themes</option><option value="/docs/getstarted/settings.html" class="small-nav-link" undefined>Settings</option><option value="/docs/getstarted/keybindings.html" class="small-nav-link" undefined>Key Bindings</option><option value="/docs/getstarted/locales.html" class="small-nav-link" undefined>Display Language</option></optgroup><optgroup class="small-nav-title" label="UserGuide"><option value="/docs/userguide/intellisense.html" class="small-nav-link" undefined>IntelliSense</option><option value="/docs/userguide/versioncontrol.html" class="small-nav-link" undefined>Version Control</option><option value="/docs/userguide/userdefinedsnippets.html" class="small-nav-link" undefined>Creating your own Snippets</option><option value="/docs/userguide/command-line.html" class="small-nav-link" undefined>Command Line</option><option value="/docs/userguide/accessibility.html" class="small-nav-link" undefined>Accessibility</option></optgroup><optgroup class="small-nav-title" label="Languages"><option value="/docs/languages/overview.html" class="small-nav-link" undefined>Overview</option><option value="/docs/languages/css.html" class="small-nav-link" undefined>CSS, Sass and Less</option><option value="/docs/languages/cpp.html" class="small-nav-link" undefined>C++</option></optgroup><optgroup class="small-nav-title" label="Extensions"><option value="/docs/extensions/overview.html" class="small-nav-link" undefined>Overview</option><option value="/docs/extensions/yocode.html" class="small-nav-link" undefined>Extension Generator</option><option value="/docs/extensions/samples.html" class="small-nav-link" undefined>Additional Examples</option></optgroup><optgroup class="small-nav-title" label="ExtensionAPI"><option value="/docs/extensionapi/overview.html" class="small-nav-link" undefined>Overview</option><option value="/docs/extensionapi/extension-manifest.html" class="small-nav-link" undefined>Extension Manifest</option><option value="/docs/extensionapi/extension-points.html" class="small-nav-link" undefined>Extension Points</option><option value="/docs/extensionapi/activation-events.html" class="small-nav-link" undefined>Activation Events</option><option value="/docs/extensionapi/vscode-api-commands.html" class="small-nav-link selected" undefined selected>Complex Commands</option><option value="/docs/extensionapi/api-scm.html" class="small-nav-link" undefined>Source Control API</option></optgroup><optgroup class="small-nav-title" label="Supporting"><option value="/docs/supporting/faq.html" class="small-nav-link" undefined>FAQ</option><option value="/docs/supporting/requirements.html" class="small-nav-link" undefined>Requirements</option><option value="/docs/supporting/errors.html" class="small-nav-link" undefined>Errors</option></optgroup><optgroup class="small-nav-title" label="Other"><option value="/docs/other/dotnet.html" class="small-nav-link" undefined>.NET Core</option></optgroup></select></form></nav></div></header><article class="article-container" itemscope itemtype="http://schema.org/Article"><div class="article-inner"><div class="article"><div class="inner"><header class="article-header"><h1 class="article-title" itemprop="name">Complex Commands Reference</h1><a href="https://github.com/vscode-doc-jp/Docs/edit/master/extensionapi/vscode-api-commands.md" class="article-edit-link" title="Improve this doc"><i class="fa fa-pencil"></i></a><h2><time class="article-updated" data-position="header" datetime="2017-05-05T06:02:36.020Z" itemprop="dateModified">Last updated: 2017-05-05</time></h2></header><div class="article-content" itemprop="articleBody"><p>このドキュメントではVisual Studio Code Complex Commandの指定方法を説明します。これはパラメーターを必要とし、値を返すのでComplex Command(直訳: 複合コマンド)と呼びます。これを<code>executeCommand</code>APIと組み合わせて使用してください。</p><p>HTML文書をプレビューする方法の例を次に示します:</p><figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> uri = Uri.parse(<span class="string">'file:///some/path/to/file.html'</span>);</div><div class="line"><span class="keyword">let</span> success = <span class="keyword">await</span> commands.executeCommand(<span class="string">'vscode.previewHtml'</span>, uri);</div></pre></td></tr></table></figure><h2 id="Commands" class="article-heading"><a href="#Commands" class="headerlink" title="Commands"></a>Commands<a class="article-anchor" href="#Commands" aria-hidden="true"></a></h2><p><code>vscode.executeWorkspaceSymbolProvider</code> - すべてのworkspace symbol providerを実行します。</p><ul><li><em>query</em> 検索文字列</li><li><em>(returns)</em> SymbolInformation-instancesの配列に解決します。</li></ul><p><code>vscode.executeDefinitionProvider</code> - すべてのdefinition providerを実行します。</p><ul><li><em>uri</em> テキストドキュメントのUri</li><li><em>position</em> シンボルのポジション</li><li><em>(returns)</em> Location-instancesの配列に解決します。</li></ul><p><code>vscode.executeImplementationProvider</code> - すべてのimplementation providersを実行します。</p><ul><li><em>uri</em> テキストドキュメントのUri</li><li><em>position</em> シンボルのポジション</li><li><em>(returns)</em> Location-instanceの配列に解決します。</li></ul><p><code>vscode.executeHoverProvider</code> - すべてのhover providerを実行します。</p><ul><li><em>uri</em> テキストドキュメントのUri</li><li><em>position</em> シンボルのポジション</li><li><em>(returns)</em> Hover-instancesの配列に解決します。</li></ul><p><code>vscode.executeDocumentHighlights</code> - document highlight providerを実行します。</p><ul><li><em>uri</em> テキストドキュメントのUri</li><li><em>position</em> テキストドキュメント内の位置</li><li><em>(returns)</em> DocumentHighlight-instancesの配列に解決します。</li></ul><p><code>vscode.executeReferenceProvider</code> - reference providerを実行します。</p><ul><li><em>uri</em> テキストドキュメントのUri</li><li><em>position</em> テキストドキュメント内の位置</li><li><em>(returns)</em> Location-instancesの配列に解決します。</li></ul><p><code>vscode.executeDocumentRenameProvider</code> - rename providerを実行します。</p><ul><li><em>uri</em> テキストドキュメントのUri</li><li><em>position</em> テキストドキュメント内の位置</li><li><em>newName</em> 新しいシンボル名</li><li><em>(returns)</em> WorkspaceEditに解決します。</li></ul><p><code>vscode.executeSignatureHelpProvider</code> - signature help providerを実行します。</p><ul><li><em>uri</em> テキストドキュメントのUri</li><li><em>position</em> テキストドキュメント内の位置</li><li><em>triggerCharacter</em> (optional) signature helpをトリガーする文字(<code>,</code> や<code>(</code>など)</li><li><em>(returns)</em> SignatureHelpに解決します。</li></ul><p><code>vscode.executeDocumentSymbolProvider</code> - document symbol providerを実行します。</p><ul><li><em>uri</em> テキストドキュメントのUri</li><li><em>(returns)</em> SymbolInformation-instancesの配列に解決します。</li></ul><p><code>vscode.executeCompletionItemProvider</code> - completion item providerを実行します。</p><ul><li><em>uri</em> テキストドキュメントのUri</li><li><em>position</em> テキストドキュメント内の位置</li><li><em>triggerCharacter</em> (optional) completionをトリガーする文字(<code>,</code>や<code>(</code>など)</li><li><em>(returns)</em> CompletionList-instanceに解決します。</li></ul><p><code>vscode.executeCodeActionProvider</code> - code action providerを実行します。</p><ul><li><em>uri</em> テキストドキュメントのUri</li><li><em>range</em> テキストドキュメントの選択範囲</li><li><em>(returns)</em> Command-instancesの配列に解決します。</li></ul><p><code>vscode.executeCodeLensProvider</code> - CodeLens providerを実行します。</p><ul><li><em>uri</em> テキストドキュメントのUri</li><li><em>(returns)</em> CodeLens-instancesの配列に解決します。</li></ul><p><code>vscode.executeFormatDocumentProvider</code> - document format providerを実行します。</p><ul><li><em>uri</em> テキストドキュメントのUri</li><li><em>options</em> フォーマットオプション</li><li><em>(returns)</em> TextEditsの配列に解決します。</li></ul><p><code>vscode.executeFormatRangeProvider</code> - range format providerを実行します。</p><ul><li><em>uri</em> テキストドキュメントのUri</li><li><em>range</em> テキストドキュメントの選択範囲</li><li><em>options</em> フォーマットオプション</li><li><em>(returns)</em> TextEditsの配列に解決します。</li></ul><p><code>vscode.executeFormatOnTypeProvider</code> - document format providerを実行します。</p><ul><li><em>uri</em> テキストドキュメントのUri</li><li><em>position</em> テキストドキュメント内の位置</li><li><em>ch</em> 入力された文字</li><li><em>options</em> フォーマットオプション</li><li><em>(returns)</em> TextEditsの配列に解決します。</li></ul><p><code>vscode.executeLinkProvider</code> - document link providerを実行します。</p><ul><li><em>uri</em> テキストドキュメントのUri</li><li><em>(returns)</em> DocumentLink-instancesの配列に解決します。</li></ul><p><code>vscode.previewHtml</code> - エディター ビューでリソースのHTMLレンタリングをします。</p><ul><li><em>uri</em> プレビューするリソースのUri</li><li><em>column</em> (optional) プレビューする列</li><li><em>label</em> (optional) 他人が理解できるプレビューのタイトル</li></ul><p><code>vscode.openFolder</code> - newWindow引数に応じて、現在のウィンドウまたは新しいウィンドウでフォルダーを開きます。newWindowパラメーターがtrueに設定されていない限り、同じウィンドウで現在の拡張機能ホストプロセスを閉じて、指定したフォルダーで新しいウィンドウを作成します。</p><ul><li><em>uri</em> (optional) 開くフォルダーのUriです。指定しない場合は、ネイティブのダイアログがユーザーにフォルダーを訪ねます。</li><li><em>newWindow</em> (optional) 新しいウィンドウまたは同じウィンドウでフォルダーを開くかを指定します。既定では同じウィンドウで開きます。</li></ul><p><code>vscode.startDebug</code> - デバッグ セッションを開始します。</p><ul><li><em>configuration</em> (optional) 使用する’launch.json’内デバッグ構成の名前。または、使用するconfiguration jsonオブジェクトです。</li></ul><p><code>vscode.diff</code> - (内容を確認する)差分エディターで提供されたリソースを開きます。</p><ul><li><em>left</em> 差分エディターの左側リソース</li><li><em>right</em> 差分エディターの右側リソース</li><li><em>title</em> (optional) 他人が理解できる差分エディターのタイトル</li></ul><p><code>vscode.open</code> - エディターで提供されたリソースを開きます。テキスト、バイナリファイルまたはhttp(s) URLを指定できます。</p><ul><li><em>resource</em> 開くリソース</li><li><em>column</em> (optional) 開く行</li></ul><p><code>cursorMove</code> - ビュー内の論理位置にカーソルを移動します。</p><ul><li><p><em>Cursor move argument object</em></p><p>この引数を渡すことのできるプロパティ値のペア:</p><ul><li><p>‘to’: カーソルを移動する論理位置値で、必須項目です。</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&apos;left&apos;, &apos;right&apos;, &apos;up&apos;, &apos;down&apos;</div><div class="line">&apos;wrappedLineStart&apos;, &apos;wrappedLineEnd&apos;, &apos;wrappedLineColumnCenter&apos;</div><div class="line">&apos;wrappedLineFirstNonWhitespaceCharacter&apos;, &apos;wrappedLineLastNonWhitespaceCharacter&apos;</div><div class="line">&apos;viewPortTop&apos;, &apos;viewPortCenter&apos;, &apos;viewPortBottom&apos;, &apos;viewPortIfOutside&apos;</div></pre></td></tr></table></figure></li><li><p>‘by’: 移動する単位です。デフォルトは ‘to’値に基づいて計算されます。</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&apos;line&apos;, &apos;wrappedLine&apos;, &apos;character&apos;, &apos;halfLine&apos;</div></pre></td></tr></table></figure></li><li><p>‘value’: 移動する単位の数です。デフォルトは ‘1’です。</p></li><li>‘select’: ‘true’ならテキストを選択します。デフォルトは’false’です。</li></ul></li></ul><p><code>editorScroll</code> - 指定した方向にエディターをスクロールします。</p><ul><li><p><em>Editor scroll argument object</em></p><p>この引数を渡すことのできるプロパティ値のペア:</p><ul><li><p>‘to’: 移動する方向値で、必須項目です。</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&apos;up&apos;, &apos;down&apos;</div></pre></td></tr></table></figure></li><li><p>‘by’: 移動する単位です。デフォルトは ‘to’値に基づいて計算されます。</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&apos;line&apos;, &apos;wrappedLine&apos;, &apos;page&apos;, &apos;halfPage&apos;</div></pre></td></tr></table></figure></li><li><p>‘value’: 移動する単位の数です。デフォルトは ‘1’です。</p></li><li>‘revealCursor’: ‘true’を指定すると、ビューポートの外側にある場合にカーソルを表示します。</li></ul></li></ul><p><code>revealLine</code> - 指定した論理位置で与えられた行を明確にします。</p><ul><li><p><em>Reveal line argument object</em></p><p>この引数を渡すことのできるプロパティ値のペア:</p><ul><li>‘lineNumber’: 行番号値で、必須項目です。</li><li>‘at’: 行を明確にする論理位置です。<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&apos;top&apos;, &apos;center&apos;, &apos;bottom&apos;</div></pre></td></tr></table></figure></li></ul></li></ul><p><code>editor.unfold</code> - エディター内のコンテンツを展開します。</p><ul><li><p><em>Unfold editor argument</em></p><p>この引数を渡すことのできるプロパティ値のペア:</p><ul><li>‘level’: 展開するレベルの番号</li></ul></li></ul><p><code>editor.fold</code> - エディター内のコンテンツを折りたたみます。</p><ul><li><p><em>Fold editor argument</em></p><p>この引数を渡すことのできるプロパティ値のペア:</p><ul><li>‘levels’: 折りたたむレベルの番号</li><li>‘up’: ‘true’の場合、与えられたレベルの番号以上のものを折りたたむ</li></ul></li></ul><p><code>editor.action.showReferences</code> - ファイル内のある位置で参照を表示します。</p><ul><li><em>uri</em> 参照を表示するテキストドキュメント</li><li><em>position</em> 表示する位置</li><li><em>locations</em> 場所の配列</li></ul><p><code>moveActiveEditor</code> - アクティブなエディターをタブかグループで移動します。</p><ul><li><p><em>Active editor move argument</em></p><p>引数のプロパティ:</p><ul><li>‘to’: 移動先を指定する文字列値</li><li>‘by’: 移動方法を指定する文字列値です。タブまたはグループを指定します。</li><li>‘value’: 移動する位置または絶対位置を指定する数値</li></ul></li></ul><h1 id="HTMPプレビューを使用した作業" class="article-heading"><a href="#HTMPプレビューを使用した作業" class="headerlink" title="HTMPプレビューを使用した作業"></a>HTMPプレビューを使用した作業<a class="article-anchor" href="#HTMPプレビューを使用した作業" aria-hidden="true"></a></h1><h2 id="Styling" class="article-heading"><a href="#Styling" class="headerlink" title="Styling"></a>Styling<a class="article-anchor" href="#Styling" aria-hidden="true"></a></h2><p>HTML表示するbody要素には、次のCSSクラスの中で、現在使用しているものにしたがって動的に色付けを行います: <code>vscode-light</code>、<code>vscode-dark</code>、<code>vscode-high-contrast</code></p><h2 id="Links" class="article-heading"><a href="#Links" class="headerlink" title="Links"></a>Links<a class="article-anchor" href="#Links" aria-hidden="true"></a></h2><p>ドキュメントに含まれるリンクはVS Codeで処理します。<code>file</code>リソースと<a href="https://github.com/Microsoft/vscode/blob/master/src/vs/vscode.d.ts#L3295" target="_blank" rel="external">virtual</a>リソースをサポートし、<code>command</code>スキームを使用してコマンドを起動します。JSONでエンコードされた引数を渡すには、command-uriのクエリ部分を使用します。ですからURLエンコードする必要が有ることに注意してください。</p><p>次のスニペットは<em>previewHtml</em>コマンドを呼び出してURIを渡すcommand-linkを定義します:</p><figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="keyword">let</span> href = <span class="built_in">encodeURI</span>(<span class="string">'command:vscode.previewHtml?'</span> + <span class="built_in">JSON</span>.stringify(someUri));</div><div class="line"><span class="keyword">let</span> html = <span class="string">'&lt;a href="'</span> + href + <span class="string">'"&gt;Show Resource...&lt;/a&gt;.'</span>;</div></pre></td></tr></table></figure><h2 id="Security-Tips" class="article-heading"><a href="#Security-Tips" class="headerlink" title="Security Tips"></a>Security Tips<a class="article-anchor" href="#Security-Tips" aria-hidden="true"></a></h2><p>拡張機能の製作者は、HTMLプレビューを使用する場合、悪意のコンテンツからユーザーを保護する責任があります。主な危険性は、攻撃者がHTMLプレビューを使用してスクリプトを実行したり、その他悪意の攻撃を実行する悪質なワークスペースを作成可能ということです。通常のWebセキュリティーの最善慣行に加えて、ユーザーを保護するための具体的なヒントやトリックをいくつか紹介します。</p><h3 id="Sanitizing-Content" class="article-heading"><a href="#Sanitizing-Content" class="headerlink" title="Sanitizing Content"></a>Sanitizing Content<a class="article-anchor" href="#Sanitizing-Content" aria-hidden="true"></a></h3><p>最初の防衛線として、プレビュー用のHTMLを作成するとき、ワークスペース設定やユーザーシステム上のファイルからのすべての入力を適切にサニタイズ(処理)します。HTMLコンテンツの場合は、安全なタグと属性のホワイトリストを使用することを検討してください。<a href="https://www.npmjs.com/package/sanitize-html" target="_blank" rel="external">sanitize-html</a>のようなライブラリーがこれを手助けします。</p><h3 id="Disabling-Scripts" class="article-heading"><a href="#Disabling-Scripts" class="headerlink" title="Disabling Scripts"></a>Disabling Scripts<a class="article-anchor" href="#Disabling-Scripts" aria-hidden="true"></a></h3><p>プレビューでJavaScriptを実行する必要がない場合は、スクリプトの実行を完全に無効にすることで、セキュリティーをさらに強化することができます。これを実行する方法の1つは、信頼できないコンテンツを<code>iframe</code>の中に<code>sandbox</code>属性を設定して読み込むことです。この場合、コンテンツは <code>srcdoc</code>属性を使用して読み込みます:</p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">sandbox</span> <span class="attr">srcdoc</span>=<span class="string">"&lt;!DOCTYPE html&gt;..."</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></div></pre></td></tr></table></figure><p>プレビューで画像などのローカルリソースを読み込む必要があるなら、代わりに<code>sandbox=&quot;allow-same-origin&quot;</code>の使用を試してください:</p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">sandbox</span>=<span class="string">"allow-same-origin"</span> <span class="attr">srcdoc</span>=<span class="string">"&lt;!DOCTYPE html&gt;..."</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></div></pre></td></tr></table></figure><p><code>sandbox=&quot;allow-same-origin&quot;</code>は<code>iframe</code>内のスクリプト実行を無効にしますが、スタイルシートや画像など、ユーザーシステムからのリソースを読み込むことができます。通常プレビューがそれを絶対必要としない限り、ローカルリソースへのアクセスを無効化することが最善です。</p><h3 id="Using-a-Content-Security-Policy" class="article-heading"><a href="#Using-a-Content-Security-Policy" class="headerlink" title="Using a Content Security Policy"></a>Using a Content Security Policy<a class="article-anchor" href="#Using-a-Content-Security-Policy" aria-hidden="true"></a></h3><p>プレビューの機能がスクリプトに依存する場合は、<a href="https://developer.mozilla.org/ja/docs/Web/Security/CSP" target="_blank" rel="external">Content Security Policy (CSP)</a>を使用して、信頼できないコンテンツからのスクリプトを無効にすることを検討してください。</p><p>例として、、ユーザーのローカルシステムからのイメージ作成とスタイルシートを許可して、すべてのスクリプトを無効にするCSPを次に示します:</p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Security-Policy"</span> <span class="attr">content</span>=<span class="string">"default-src 'none'; img-src *; style-src 'self'; script-src 'none';"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>...<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">  Content</div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure><p>スクリプトを選択的に有効化するには、動的に生成した<a href="https://developers.google.com/web/fundamentals/security/csp/" target="_blank" rel="external">nonce</a>を使用して、特定の信頼できるスクリプトをホワイトリストに登録することがいい方法です。</p><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Security-Policy"</span> <span class="attr">content</span>=<span class="string">"default-src 'none'; img-src *; style-src 'self'; script-src 'nonce-123456';"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>...<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">  Content</div><div class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">nonce</span>=<span class="string">"123456"</span> <span class="attr">src</span>=<span class="string">"file:///path/to/extension/my_trusted_script.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></div><footer class="article-footer"><time class="article-updated" datetime="2017-05-05T06:02:36.020Z" itemprop="dateModified">Last updated: 2017-05-05</time></footer></div></div><aside id="article-toc" role="navigation"><div id="article-toc-inner"><strong class="sidebar-title">Contents</strong><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Commands"><span class="toc-text">Commands</span></a></li></ol><li class="toc-item toc-level-1"><a class="toc-link" href="#HTMPプレビューを使用した作業"><span class="toc-text">HTMPプレビューを使用した作業</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Styling"><span class="toc-text">Styling</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Links"><span class="toc-text">Links</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Security-Tips"><span class="toc-text">Security Tips</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Sanitizing-Content"><span class="toc-text">Sanitizing Content</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Disabling-Scripts"><span class="toc-text">Disabling Scripts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Using-a-Content-Security-Policy"><span class="toc-text">Using a Content Security Policy</span></a></li></ol></li></ol><a href="#" id="article-toc-top">Back to Top</a></li></div></aside></div></article><aside id="sidebar" role="navigation"><div class="inner"><div class="accordion"><label class="sidebar-title" for="Setup">Setup<i></i></label><input id="Setup" type="checkbox"><div class="ac-cont"><a href="/docs/setup/setup-overview.html" class="sidebar-link">Overview</a><a href="/docs/setup/linux.html" class="sidebar-link">Linux</a><a href="/docs/setup/windows.html" class="sidebar-link">Windows</a><a href="/docs/setup/additional-components.html" class="sidebar-link">Additional Compnents</a></div><label class="sidebar-title" for="GetStarted">GetStarted<i></i></label><input id="GetStarted" type="checkbox"><div class="ac-cont"><a href="/docs/getstarted/introvideos.html" class="sidebar-link">Intro Videos</a><a href="/docs/getstarted/userinterface.html" class="sidebar-link">User Interface</a><a href="/docs/getstarted/themes.html" class="sidebar-link">Themes</a><a href="/docs/getstarted/settings.html" class="sidebar-link">Settings</a><a href="/docs/getstarted/keybindings.html" class="sidebar-link">Key Bindings</a><a href="/docs/getstarted/locales.html" class="sidebar-link">Display Language</a></div><label class="sidebar-title" for="UserGuide">UserGuide<i></i></label><input id="UserGuide" type="checkbox"><div class="ac-cont"><a href="/docs/userguide/intellisense.html" class="sidebar-link">IntelliSense</a><a href="/docs/userguide/versioncontrol.html" class="sidebar-link">Version Control</a><a href="/docs/userguide/userdefinedsnippets.html" class="sidebar-link">Creating your own Snippets</a><a href="/docs/userguide/command-line.html" class="sidebar-link">Command Line</a><a href="/docs/userguide/accessibility.html" class="sidebar-link">Accessibility</a></div><label class="sidebar-title" for="Languages">Languages<i></i></label><input id="Languages" type="checkbox"><div class="ac-cont"><a href="/docs/languages/overview.html" class="sidebar-link">Overview</a><a href="/docs/languages/css.html" class="sidebar-link">CSS, Sass and Less</a><a href="/docs/languages/cpp.html" class="sidebar-link">C++</a></div><label class="sidebar-title" for="Extensions">Extensions<i></i></label><input id="Extensions" type="checkbox"><div class="ac-cont"><a href="/docs/extensions/overview.html" class="sidebar-link">Overview</a><a href="/docs/extensions/yocode.html" class="sidebar-link">Extension Generator</a><a href="/docs/extensions/samples.html" class="sidebar-link">Additional Examples</a></div><label class="sidebar-title" for="ExtensionAPI">ExtensionAPI<i></i></label><input id="ExtensionAPI" type="checkbox" checked><div class="ac-cont"><a href="/docs/extensionapi/overview.html" class="sidebar-link">Overview</a><a href="/docs/extensionapi/extension-manifest.html" class="sidebar-link">Extension Manifest</a><a href="/docs/extensionapi/extension-points.html" class="sidebar-link">Extension Points</a><a href="/docs/extensionapi/activation-events.html" class="sidebar-link">Activation Events</a><a href="/docs/extensionapi/vscode-api-commands.html" class="sidebar-link current">Complex Commands</a><a href="/docs/extensionapi/api-scm.html" class="sidebar-link">Source Control API</a></div><label class="sidebar-title" for="Supporting">Supporting<i></i></label><input id="Supporting" type="checkbox"><div class="ac-cont"><a href="/docs/supporting/faq.html" class="sidebar-link">FAQ</a><a href="/docs/supporting/requirements.html" class="sidebar-link">Requirements</a><a href="/docs/supporting/errors.html" class="sidebar-link">Errors</a></div><label class="sidebar-title" for="Other">Other<i></i></label><input id="Other" type="checkbox"><div class="ac-cont"><a href="/docs/other/dotnet.html" class="sidebar-link">.NET Core</a></div></div></div></aside></div></div></div></div><div id="mobile-nav-dimmer"></div><nav id="mobile-nav"><div id="mobile-nav-inner"><ul id="mobile-nav-list"><a href="/docs/" class="mobile-nav-link">Docs</a><a href="/updates/" class="mobile-nav-link">Updates</a></ul><strong class="mobile-nav-title">Setup</strong><a href="/docs/setup/setup-overview.html" class="mobile-nav-link">Overview</a><a href="/docs/setup/linux.html" class="mobile-nav-link">Linux</a><a href="/docs/setup/windows.html" class="mobile-nav-link">Windows</a><a href="/docs/setup/additional-components.html" class="mobile-nav-link">Additional Compnents</a><strong class="mobile-nav-title">GetStarted</strong><a href="/docs/getstarted/introvideos.html" class="mobile-nav-link">Intro Videos</a><a href="/docs/getstarted/userinterface.html" class="mobile-nav-link">User Interface</a><a href="/docs/getstarted/themes.html" class="mobile-nav-link">Themes</a><a href="/docs/getstarted/settings.html" class="mobile-nav-link">Settings</a><a href="/docs/getstarted/keybindings.html" class="mobile-nav-link">Key Bindings</a><a href="/docs/getstarted/locales.html" class="mobile-nav-link">Display Language</a><strong class="mobile-nav-title">UserGuide</strong><a href="/docs/userguide/intellisense.html" class="mobile-nav-link">IntelliSense</a><a href="/docs/userguide/versioncontrol.html" class="mobile-nav-link">Version Control</a><a href="/docs/userguide/userdefinedsnippets.html" class="mobile-nav-link">Creating your own Snippets</a><a href="/docs/userguide/command-line.html" class="mobile-nav-link">Command Line</a><a href="/docs/userguide/accessibility.html" class="mobile-nav-link">Accessibility</a><strong class="mobile-nav-title">Languages</strong><a href="/docs/languages/overview.html" class="mobile-nav-link">Overview</a><a href="/docs/languages/css.html" class="mobile-nav-link">CSS, Sass and Less</a><a href="/docs/languages/cpp.html" class="mobile-nav-link">C++</a><strong class="mobile-nav-title">Extensions</strong><a href="/docs/extensions/overview.html" class="mobile-nav-link">Overview</a><a href="/docs/extensions/yocode.html" class="mobile-nav-link">Extension Generator</a><a href="/docs/extensions/samples.html" class="mobile-nav-link">Additional Examples</a><strong class="mobile-nav-title">ExtensionAPI</strong><a href="/docs/extensionapi/overview.html" class="mobile-nav-link">Overview</a><a href="/docs/extensionapi/extension-manifest.html" class="mobile-nav-link">Extension Manifest</a><a href="/docs/extensionapi/extension-points.html" class="mobile-nav-link">Extension Points</a><a href="/docs/extensionapi/activation-events.html" class="mobile-nav-link">Activation Events</a><a href="/docs/extensionapi/vscode-api-commands.html" class="mobile-nav-link current">Complex Commands</a><a href="/docs/extensionapi/api-scm.html" class="mobile-nav-link">Source Control API</a><strong class="mobile-nav-title">Supporting</strong><a href="/docs/supporting/faq.html" class="mobile-nav-link">FAQ</a><a href="/docs/supporting/requirements.html" class="mobile-nav-link">Requirements</a><a href="/docs/supporting/errors.html" class="mobile-nav-link">Errors</a><strong class="mobile-nav-title">Other</strong><a href="/docs/other/dotnet.html" class="mobile-nav-link">.NET Core</a></div></nav><a id="scroll-to-top" role="button" aria-label="scroll to top" onclick="container.scrollTop=0"><span class="icon"></span></a><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script><script src="/js/toc.js"></script><script src="/js/mobile_nav.js"></script><script src="/js/plugins.js"></script></body></html>