<!DOCTYPE html><html lang="ja"><head><meta charset="utf-8"><title>C/C++ (Preview) | VS Code Docs</title><meta name="description" content="Visual Studio Code (VS Code) Docs の日本語訳"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="canonical" href="https://vscode-doc-jp.github.io/docs/languages/cpp.html"><link rel="stylesheet" href="/css/navy.css"><link rel="stylesheet" href="/css/accordion.css"><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"><link rel="alternate" href="/atom.xml" title="VS Code Docs"><script>!function(e,t,a,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=t.createElement(a),s=t.getElementsByTagName(a)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-92801937-1","auto"),ga("send","pageview")</script></head><body><div id="container"><header id="header" class="wrapper"><div id="header-inner" class="inner"><h1 id="logo-wrap"><a href="/" id="logo">Visual Studio Code</a></h1><nav id="main-nav"><a href="/docs/" class="main-nav-link">Docs</a><a href="/updates/" class="main-nav-link">Updates</a><div id="search-input-wrap"><div id="search-input-icon"><i class="fa fa-search"></i></div><input type="search" id="search-input" placeholder="Search..."></div></nav><a id="mobile-nav-toggle"><span class="mobile-nav-toggle-bar"></span> <span class="mobile-nav-toggle-bar"></span> <span class="mobile-nav-toggle-bar"></span></a></div></header><div id="content-wrap"><div id="content" class="wrapper"><div id="content-inner"><article class="article-container" itemscope itemtype="http://schema.org/Article"><div class="article-inner"><div class="article"><div class="inner"><header class="article-header"><h1 class="article-title" itemprop="name">C/C++ (Preview)</h1><a href="https://github.com/vscode-doc-jp/Docs/edit/master/languages/cpp.md" class="article-edit-link" title="Improve this doc"><i class="fa fa-pencil"></i></a><h2><time class="article-updated" data-position="header" datetime="2017-03-13T10:50:07.584Z" itemprop="dateModified">Last updated: 2017-03-13</time></h2></header><div class="article-content" itemprop="articleBody"><p>今日VS Code を使用して Windows, Linux Mac でクロスプラットフォーム C/C++ 開発ができるように、プレビューの状態でサポート環境を提供しています。このリリースプレビューで Linux, Mac, Window 上でのデバッグなど、コード編集とナビゲーションのサポートを中心に取り上げています。</p><p>もし、軽量なツールで C++ を編集したいときには VS Code は最適です。ですが、既存の Visual C++ プロジェクトや Windows でのデバッグに最適な環境を実現するには、 <a href="https://www.visualstudio.com/products/visual-studio-community-vs" target="_blank" rel="external">Visual Studio Community</a> を使用することをお勧めします。</p><p>まだ VS Code の C++ はプレビュー状態ですので、今こそ<a href="mailto:c_cpp_support@microsoft.com" target="_blank" rel="external">バグレポート, 機能リクエスト, フィードバック</a>するときです。LinuxやMacを開発環境として使用している人のために、Visual Studio チームと<a href="http://landinghub.visualstudio.com/c-nonwin" target="_blank" rel="external">get engaged</a>してください。</p><p>(編集メモ:get engaged : 婚約, 言い交わす</p><h2 id="Getting-Started" class="article-heading"><a href="#Getting-Started" class="headerlink" title="Getting Started"></a>Getting Started<a class="article-anchor" href="#Getting-Started" aria-hidden="true"></a></h2><p><strong>Microsoft C/C++ 拡張機能をインストール:</strong></p><ul><li>VS Code を開く</li><li>拡張機能ビューを開く</li><li><code>cpptools</code> を検索</li><li><strong>Install</strong> して <strong>Enable</strong> にする</li><li>C/C++ のコードフォルダを開く</li></ul><p><strong>コード補完とナビゲーションを有効にするには、<code>c_cpp_properties.json</code> を作成する必要があります:</strong></p><ul><li>ソースファイル内の緑破線(e.g. #include文)にカーソルを合わせる</li><li>カーソル下に表示される電球をクリック</li><li><strong>Add include path to settings</strong> をクリック</li></ul><p>これにより <code>c_cpp_properties.json</code> を生成します。このファイルを使用することで、 include パスを追加して、コードナビゲーションと自動補完を有効にできます。</p><blockquote><p><strong>Note:</strong> <code>c_cpp_properties.json</code> は <strong>コマンドパレット</strong>(<span class="dynamic-keybinding" data-osx="⇧⌘P" data-win="Ctrl+Shift+P" data-linux="Ctrl+Shift+P"><span class="keybinding">⇧⌘P</span> (Windows, Linux <span class="keybinding">Ctrl+Shift+P</span>)</span>から<strong>C/Cpp: Edit Configurations</strong>を実行することでも、生成したり編集可能です。</p></blockquote><p><strong>VS Code からアプリケーションをビルドするには。 <code>tasks.json</code> を作成する必要があります:</strong></p><ul><li><strong>コマンドパレット</strong> (<span class="dynamic-keybinding" data-osx="⇧⌘P" data-win="Ctrl+Shift+P" data-linux="Ctrl+Shift+P"><span class="keybinding">⇧⌘P</span> (Windows, Linux <span class="keybinding">Ctrl+Shift+P</span>)</span>) を開く</li><li><strong>Tasks: Configure Task Runner</strong> コマンドを実行して、task テンプレートのリストを表示し</li><li>外部コマンドを実行するタスクを作成するので <strong>Others</strong> を選択</li><li><code>command</code> をアプリケーション構築に使用するコマンドライン式(e.g. <code>g++ -g main.cpp</code>)に設定</li><li>必要な args を追加(e.g. デバッグ用にビルドする場合は <code>-g</code>など)</li><li>これにより(<span class="dynamic-keybinding" data-osx="⇧⌘B" data-win="Ctrl+Shift+B" data-linux="Ctrl+Shift+B"><span class="keybinding">⇧⌘B</span> (Windows, Linux <span class="keybinding">Ctrl+Shift+B</span>)</span>) でアプリケーションをビルドできるようになります</li></ul><p>この時点で <code>.vscode</code> フォルダ下の <code>tasks.json</code> は、次のように表示するはずです:</p><figure class="highlight json"><table><tr><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="attr">"version"</span>: <span class="string">"0.1.0"</span>,</div><div class="line">    <span class="attr">"command"</span>: <span class="string">"g++"</span>,</div><div class="line">    <span class="attr">"isShellCommand"</span>: <span class="literal">true</span>,</div><div class="line">    <span class="attr">"showOutput"</span>: <span class="string">"always"</span>,</div><div class="line">    <span class="attr">"args"</span>: [<span class="string">"-g"</span>, <span class="string">"main.cpp"</span>]</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>タスクの詳細は <a href="/docs/editor/tasks">Integrate with External Tools via Tasks</a> を参照してください。</p><p><strong>デバッグを有効にするには、 <code>launch.json</code> を作成する必要があります:</strong></p><ul><li>サイドバーのデバッグアイコンをクリックして、デバッグビューに移動します</li><li><strong>デバッグビュー</strong> で、<strong>設定</strong>アイコンをクリックします</li><li><strong>環境の選択</strong>から <code>C++ (GDB/LLDB)</code>(GDB, LLDB) または <code>C++ (Windows)</code>(Visual Studio Windows Debugger) を選択します。これは、2つの <code>launch.json</code> を作成します:<ul><li><strong>C++ Launch</strong> はデバッグを開始するときにアプリケーションを起動するためのプロパティを定義します。</li><li><strong>C++ Attach</strong> はすでに実行中のプロセスにアタッチするためのプロパティを定義します。</li></ul></li><li><code>program</code> プロパティを、デバッグしているプログラムへのパスに更新します。</li><li>デバッグを開始するときにアプリケーションをビルドする場合は、 <code>tasks.json</code> で作成したビルドタスクの名前(上記の例で”g++”)を含む <code>preLaunchTask</code> プロパティを追加します。</li></ul><p>詳細については <a href="https://github.com/Microsoft/vscode-cpptools/blob/master/launch.md" target="_blank" rel="external">Configuring launch.json for C/C++ debugging</a> を参照してください。</p><p>Windows 上で GDB を使ってデバッグする場合は <a href="#debug_windows_gdb">Windows Debugging on Cygwin/MinGW</a> を参照してください。</p><h2 id="コード編集" class="article-heading"><a href="#コード編集" class="headerlink" title="コード編集"></a>コード編集<a class="article-anchor" href="#コード編集" aria-hidden="true"></a></h2><h3 id="コード整形" class="article-heading"><a href="#コード整形" class="headerlink" title="コード整形"></a>コード整形<a class="article-anchor" href="#コード整形" aria-hidden="true"></a></h3><p>今回使用している C/C++ 拡張機能は、内蔵の<a href="http://clang.llvm.org/docs/ClangFormat.html" target="_blank" rel="external">clang-format</a>を使用した整形をサポートします。</p><p>ファイル全体を <strong>Format Document</strong> (<span class="dynamic-keybinding" data-osx="⇧⌥F" data-win="Shift+Alt+F" data-linux="Ctrl+Shift+I"><span class="keybinding">⇧⌥F</span> (Windows <span class="keybinding">Shift+Alt+F</span>, Linux <span class="keybinding">Ctrl+Shift+I</span>)</span>) で整形したり、コンテキストメニュー(右クリック)から<strong>Format Selection</strong> (<span class="dynamic-keybinding" data-osx="⌘K ⌘F" data-win="Ctrl+K Ctrl+F" data-linux="Ctrl+K Ctrl+F"><span class="keybinding">⌘K ⌘F</span> (Windows, Linux <span class="keybinding">Ctrl+K Ctrl+F</span>)</span>) で選択範囲を整形したりできます。また次の<a href="/docs/customization/userandworkspace.html">設定</a>で、自動整形を設定することもできます:</p><ul><li><code>C_Cpp.clang_format_formatOnSave</code> - ファイル保存時のフォーマット</li><li><code>editor.formatOnType</code> - トリガー文字(<span class="keybinding">;</span>)を入力時のフォーマット</li></ul><p>既定で clang-format style は、ワークスペース内の <code>.clang-format</code> を使用する “file” に設定されています。つまり <code>.clang-format</code> が見つかれば、書式設定はファイルで指定した設定に従います。そして <code>.clang-format</code> が見つからない場合 <code>C_Cpp.clang_format_fallbackStyle</code> <a href="/docs/customization/userandworkspace.html">設定</a> を代わりとして使用します。現在、既定のフォーマットスタイルは “Visual Studio” です。”Visual Studio” の書式設定を使用すれば、 VS Code と Visual Studio Community の両方において書式に互換性が(確実に)あるということです。</p><p>“Visual Studio” clang-formatスタイルは、まだ公式の clang-format スタイルではありませんが、次のような clang-format 設定になります:</p><figure class="highlight"><table><tr><td class="code"><pre><div class="line">UseTab: (VS Code current setting)</div><div class="line">IndentWidth: (VS Code current setting)</div><div class="line">BreakBeforeBraces: AllMan</div><div class="line">AllowShortIfStatementsOnASingleLine: false</div><div class="line">IndentCaseLabels: false</div><div class="line">ColumnLimit: 0</div></pre></td></tr></table></figure><p>拡張機能に内包されているバージョンと異なる clang-format を使用する場合は、 <code>C_Cpp.clang_format_path</code> <a href="/docs/customization/userandworkspace.html">設定</a>を使用して、 clang-format バイナルのパスを指定します。</p><p>Windows の例:</p><figure class="highlight"><table><tr><td class="code"><pre><div class="line">"C_Cpp.clang_format_path": "C:\\Program Files (x86)\\LLVM\\bin\\clang-format.exe"</div></pre></td></tr></table></figure><h3 id="Fuzzy-Auto-Complete-preview" class="article-heading"><a href="#Fuzzy-Auto-Complete-preview" class="headerlink" title="Fuzzy Auto-Complete (preview)"></a>Fuzzy Auto-Complete (preview)<a class="article-anchor" href="#Fuzzy-Auto-Complete-preview" aria-hidden="true"></a></h3><p>(編集メモ: 以後 あいまい自動補完</p><p>あいまい自動補完は、拡張タグパーサーによって機能します。提案はコードの意味解析に基づくものではありませんが、この機能は現在提供されている単一ファイル IntelliSense よりも幅広い候補を提供します。</p><p>具体的には、 C 言語開発で優れた機能を提供します。</p><h2 id="ナビゲーションコード" class="article-heading"><a href="#ナビゲーションコード" class="headerlink" title="ナビゲーションコード"></a>ナビゲーションコード<a class="article-anchor" href="#ナビゲーションコード" aria-hidden="true"></a></h2><p>C/C++ 拡張機能が提供するソースコードナビゲーション機能は、コードベースを理解したり回避(?)したりするための強力なツールです。これら機能は、シンボル情報のオフラインデータベース(<code>browse.VC.db</code>)に格納されたタグによって提供されています。C/C++ 拡張機能をインストールすると、C++ ソースコードを含むフォルダを VS Code が読み込むたびにこのデータベースを作成します。タグパーサーがこの情報を生成している間、プラットフォームインジゲーター(下図のWin32)が赤色にかわり、火炎アイコンの隣に表示します。</p><p><img src="images/cpp/parsing.png" alt="The platform indicator during tag parsing"></p><p>プラットフォームインジゲータが通常に戻ったとき、オフラインデータベースにソースコードシンボルがタグ付けされ、ソースコードナビゲーション機能が使用できる状態になります。</p><h3 id="シンボルサポートを最適化する追加の-Include-ディレクトリを指定" class="article-heading"><a href="#シンボルサポートを最適化する追加の-Include-ディレクトリを指定" class="headerlink" title="シンボルサポートを最適化する追加の Include ディレクトリを指定"></a>シンボルサポートを最適化する追加の Include ディレクトリを指定<a class="article-anchor" href="#シンボルサポートを最適化する追加の-Include-ディレクトリを指定" aria-hidden="true"></a></h3><p>VS Code の C/C++ 拡張機能は最適なコード編集を提供するために、コード内で参照される各ヘッダファイルがどこにあるのか教える必要があります。既定で拡張機能は、現在のソースディレクトリ、サブディレクトリおよびプラットフォーム固有の場所を検索します。参照されるヘッダファイルが見つからない場合、 VS Code はそれを各 #include ディレクティブの下に緑破線を表示します。</p><p>参照する追加インクルード ディレクトリを指定するには、 緑破線の付いた #include ディレクティブの上にカーソルを置いて、電球をクリックします。これにより <code>c_cpp_properties.json</code> を開きます。このファイルで ‘includePath’ プロパティにディレクトリを追加することで、各プラットフォーム構成に追加の Include ディレクトリを指定できます。</p><p><img src="images/cpp/includepath.gif" alt="Adding an additional include path"></p><h3 id="シンボル検索" class="article-heading"><a href="#シンボル検索" class="headerlink" title="シンボル検索"></a>シンボル検索<a class="article-anchor" href="#シンボル検索" aria-hidden="true"></a></h3><p>現在のファイルまたはワークスペース内のシンボルを検索して、コード内を迅速に移動できます。</p><p>現在のファイル内のシンボルを検索するには<span class="dynamic-keybinding" data-osx="⇧⌘O" data-win="Ctrl+Shift+O" data-linux="Ctrl+Shift+O"><span class="keybinding">⇧⌘O</span> (Windows, Linux <span class="keybinding">Ctrl+Shift+O</span>)</span>を押して、探すシンボルの名前を入力します。入力時にフィルタリングされる一致リストを表示するので、選択して移動します。</p><p><img src="images/cpp/filesearch.png" alt="Searching the current file"></p><p>現在のワークスペースでシンボル検索するには、代わりに <span class="dynamic-keybinding" data-osx="⌘T" data-win="Ctrl+T" data-linux="Ctrl+T"><span class="keybinding">⌘T</span> (Windows, Linux <span class="keybinding">Ctrl+T</span>)</span> を押して、シンボルの名前を入力します。リストは、上と同じように表示します。まだ開いていないファイルの一致シンボルへ移動する場合、まずファイルを開きます。</p><p><img src="images/cpp/workspacesearch.png" alt="Searching in your workspace"></p><p>あるいは、<strong>コマンドパレット</strong>を介してシンボルを検索することができます。<strong>Quick Open</strong> を使用して現在のファイルを検索するには <code>@</code> コマンドを実行し、現在のワークスペースを検索するには <code>#</code>コマンドを実行してください。<span class="dynamic-keybinding" data-osx="⇧⌘O" data-win="Ctrl+Shift+O" data-linux="Ctrl+Shift+O"><span class="keybinding">⇧⌘O</span> (Windows, Linux <span class="keybinding">Ctrl+Shift+O</span>)</span> と <span class="dynamic-keybinding" data-osx="⌘T" data-win="Ctrl+T" data-linux="Ctrl+T"><span class="keybinding">⌘T</span> (Windows, Linux <span class="keybinding">Ctrl+T</span>)</span> は<br>それぞれ上と同じ動作をする ‘@’ と ‘#’ のショートカットです。</p><h3 id="定義をここに表示" class="article-heading"><a href="#定義をここに表示" class="headerlink" title="定義をここに表示"></a>定義をここに表示<a class="article-anchor" href="#定義をここに表示" aria-hidden="true"></a></h3><p>定義をここに表示を使用することで、シンボルの定義を簡単に確認できます。ピークウィンドウ内に定義を表示するので、現在の場所から離れることなく確認できます。</p><p>シンボルの定義を見るには、コード内シンボルの上にcursorを置き <span class="dynamic-keybinding" data-osx="⌥F12" data-win="Alt+F12" data-linux="Ctrl+Shift+F10"><span class="keybinding">⌥F12</span> (Windows <span class="keybinding">Alt+F12</span>, Linux <span class="keybinding">Ctrl+Shift+F10</span>)</span> を押します。もしくは、コンテキストメニュー(右クリック)から<strong>定義をここに移動</strong>でも表示することができます。</p><p><img src="images/cpp/peekdefn.png" alt="Peek definition"></p><p>現在の C/C++ 拡張機能は、シンボルの使用方法にもとづいて 、競合の定義を見分けるのに役立つようにコード解析しません。これらは、オーバーロード関数,クラスおよびそれらコンストラクタなど、違うコンストラクタで違うシンボル定義をするときに発生します。これらが発生した場合、それぞれの競合する定義をピークウィンドウの右側に表示し、現在選択のソースコードが左側に表示されます。</p><p>(編集メモ: 個人的に競合って言葉は悪い意味で使う感じがする</p><p>見つけたい定義を見つけるためには、ピークウィンドウを開いて競合する定義リストを参照します。定義に移動するには、目的の定義をダブルクリックするか、ピークウィンドウ左側に表示しているソースコード内の任意の場所をダブルクリックしてください。</p><h3 id="定義に移動" class="article-heading"><a href="#定義に移動" class="headerlink" title="定義に移動"></a>定義に移動<a class="article-anchor" href="#定義に移動" aria-hidden="true"></a></h3><p>定義に移動を使用して、シンボルを定義している場所に素早く移動することもできます。</p><p>シンボルの定義に移動するには、コード内のシンボル上にカーソルを置き <span class="dynamic-keybinding" data-osx="F12" data-win="F12" data-linux="F12"><span class="keybinding">F12</span></span> を押します。また、コンテキストメニュー(右クリック)から<strong>定義に移動</strong>を選択することもできます。シンボルの定義が1つの場合、その場所に直接移動します。そうでない場合は、競合する定義を前のセクションで説明したように、ピークウィンドウで表示し、移動する定義を選択する必要があります。</p><h2 id="デバッグ" class="article-heading"><a href="#デバッグ" class="headerlink" title="デバッグ"></a>デバッグ<a class="article-anchor" href="#デバッグ" aria-hidden="true"></a></h2><p><a href="/docs/languages/cpp.md#getting-started">Getting Started</a> で明示したように、デバッグ環境を設定したら、このセクションで C/C++ のデバッグの詳細に関する情報を確認します。</p><p>VS Code は使用しているOSに応じて、 次の C/C++ デバッガをサポートしています:</p><ul><li><strong>Linux</strong>: GDB</li><li><strong>OS X</strong>: LLDB or GDB</li><li><strong>Windows</strong>: Visual Studio Windows Debugger or GDB (Cygwin or MinGW 使用時)</li></ul><h3 id="Cygwin-MinGW-上の-GDB-による-Windows-デバッグ" class="article-heading"><a href="#Cygwin-MinGW-上の-GDB-による-Windows-デバッグ" class="headerlink" title="Cygwin/MinGW 上の GDB による Windows デバッグ "></a>Cygwin/MinGW 上の GDB による Windows デバッグ <a name="debug_windows_gdb"></a><a class="article-anchor" href="#Cygwin-MinGW-上の-GDB-による-Windows-デバッグ" aria-hidden="true"></a></h3><p>VS Code を使用して Cygwin か MinGW を使用して作成した Windows アプリケーションをデバッグできます。Cygwin または MinGW のデバッグ機能を使用するには、デバッガーパスを起動構成(<code>launch.json</code>)に手動で設定する必要があります。Cygwin か MinGW アプリケーションをデバッグするには、 <code>miDebuggerPath</code> プロパティを追加し、その値を Cygwin か MinGW 環境に対応する gdb.exe の場所に設定してください。</p><p>たとえば:</p><figure class="highlight"><table><tr><td class="code"><pre><div class="line">"miDebuggerPath": "c:\\mingw\\bin\\gdb.exe"</div></pre></td></tr></table></figure><p>Windows 上での Cygwin/MinGW デバッグは、アタッチとデバッグの両方をサポートします。</p><h3 id="条件付きブレークポイント" class="article-heading"><a href="#条件付きブレークポイント" class="headerlink" title="条件付きブレークポイント"></a>条件付きブレークポイント<a class="article-anchor" href="#条件付きブレークポイント" aria-hidden="true"></a></h3><p>条件付きブレークポイントを使用すると、条件の値が true の場合にのみ特定のコード行で実行を中断することができます。条件付きブレークポイントをセットするには、既存のブレークポイントを右クリックして<strong>ブレークポイントの編集</strong>を選択します。ピークウィンドウが開くので、デバッグ中にヒット式が true と評価されるように条件を入力してください。</p><p><img src="images/cpp/condbreak.png" alt="A conditional break"></p><p>エディタ内で条件付きブレークポイントは、黒色の等号を内部に表示するブレークポイント記号で表示します。またカーソルを重ねることで、設定されている条件を表示します。</p><h3 id="関数ブレークポイント" class="article-heading"><a href="#関数ブレークポイント" class="headerlink" title="関数ブレークポイント"></a>関数ブレークポイント<a class="article-anchor" href="#関数ブレークポイント" aria-hidden="true"></a></h3><p>関数ブレークポイントを使用すると、特定のコード行ではなく関数の先頭で実行を中断することができます。設定には、<strong>Debug</strong>ペインで<strong>ブレークポイント</strong>セクションを開き、<strong>関数ブレークポイントの追加</strong>を選択し、実行を中断する関数の名前を入力します。</p><h3 id="式の評価" class="article-heading"><a href="#式の評価" class="headerlink" title="式の評価"></a>式の評価<a class="article-anchor" href="#式の評価" aria-hidden="true"></a></h3><p>VS Code は一部コンテキストで式の評価をサポートします:</p><ul><li><strong>Debug</strong> パネルの <strong>ウォッチ式</strong>セクションに式を入力でき、ここではブレークポイントがヒットするたびに評価します。</li><li><strong>デバッグコンソール</strong>に式を入力することができます。この式は1回だけ評価します。</li><li>ブレークポイントで停止している間は、コード内で表示される任意の式を評価できます。</li></ul><p><strong>ウォッチ式</strong>セクションは、デバッグ中のアプリケーションで有効になることに注意してください。変数の値を変更する式は、プログラムの継続時間中にその変数を変更します。</p><h3 id="マルチスレッドのデバッグ" class="article-heading"><a href="#マルチスレッドのデバッグ" class="headerlink" title="マルチスレッドのデバッグ"></a>マルチスレッドのデバッグ<a class="article-anchor" href="#マルチスレッドのデバッグ" aria-hidden="true"></a></h3><p>VS Code の C/C++ 拡張機能には、マルチスレッドプログラムをデバッグする機能を用意しています。すべてのスレッドとその呼び出しスタックは、<strong>Call Stack</strong> セクションに表示します。</p><p><img src="images/cpp/threads.png" alt="Multi-threaded process"></p><h3 id="メモリダンプのデバッグ" class="article-heading"><a href="#メモリダンプのデバッグ" class="headerlink" title="メモリダンプのデバッグ"></a>メモリダンプのデバッグ<a class="article-anchor" href="#メモリダンプのデバッグ" aria-hidden="true"></a></h3><p>VS Code の C/C++ 拡張機能には、メモリダンプをデバッグするための機能もあります。メモリダンプをデバッグするには <code>launch.json</code> を開いて、<strong>C++ Launch</strong> 設定の <code>coreDumpPath</code> (GDB, LLDB) か <code>dumpPath</code> (Visual Studio Windows Debugger) プロパティに、メモリ ダンプのパスを含む文字列を指定します。これはx64上で、x86プログラムをデバッグしている状態でも機能します。</p><h3 id="追加のシンボル" class="article-heading"><a href="#追加のシンボル" class="headerlink" title="追加のシンボル"></a>追加のシンボル<a class="article-anchor" href="#追加のシンボル" aria-hidden="true"></a></h3><p>デバッガが使用できるシンボルファイル(e.g.Visual Studio Windows Debugger: <code>.pdb</code>)を、保持した追加のディレクトリがある場合。<code>additionalSOLibSearchPath</code> (GDB, LLDB) もしくは <code>symbolSearchPath</code> ( Visual Studio Windows Debugger) 設定して追加することができます。</p><p>たとえば:</p><figure class="highlight"><table><tr><td class="code"><pre><div class="line">"additionalSOLibSearchPath": "/path/to/symbols;/another/path/to/symbols"</div></pre></td></tr></table></figure><p>または</p><figure class="highlight"><table><tr><td class="code"><pre><div class="line">"symbolSearchPath": "C:\\path\\to\\symbols;C:\\another\\path\\to\\symbols"</div></pre></td></tr></table></figure><h3 id="ソースファイルの場所" class="article-heading"><a href="#ソースファイルの場所" class="headerlink" title="ソースファイルの場所"></a>ソースファイルの場所<a class="article-anchor" href="#ソースファイルの場所" aria-hidden="true"></a></h3><p>ソースファイルがコンパイル場所にない場合、ソースファイルの場所を変更することができます。これは <code>sourceFileMap</code> セクションに追加した、単純なペア置換によって行います。このリストの最初の一致が使用します。</p><p>たとえば:</p><figure class="highlight"><table><tr><td class="code"><pre><div class="line">"sourceFileMap": &#123;</div><div class="line">    "/build/gcc-4.8-fNUjSI/gcc-4.8-4.8.4/build/i686-linux-gnu/libstdc++-v3/include/i686-linux-gnu": "/usr/include/i686-linux-gnu/c++/4.8",</div><div class="line">    "/build/gcc-4.8-fNUjSI/gcc-4.8-4.8.4/build/i686-linux-gnu/libstdc++-v3/include": "/usr/include/c++/4.8"</div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="GDB-LLDB-MI-コマンド-GDB-LLDB" class="article-heading"><a href="#GDB-LLDB-MI-コマンド-GDB-LLDB" class="headerlink" title="GDB, LLDB, MI コマンド (GDB/LLDB)"></a>GDB, LLDB, MI コマンド (GDB/LLDB)<a class="article-anchor" href="#GDB-LLDB-MI-コマンド-GDB-LLDB" aria-hidden="true"></a></h3><p><code>C++ (GDB/LLDB)</code> デバッグ環境では、<code>-exec</code> コマンドで直接 GDB, LLDB, MI コマンドをデバッグコンソールから実行できます。しかし、デバッグコンソールで直接コマンドを実行するとテストされず、場合によっては VS Code がクラッシュする可能性があるので注意してください。</p><h3 id="その他のデバッグ機能" class="article-heading"><a href="#その他のデバッグ機能" class="headerlink" title="その他のデバッグ機能"></a>その他のデバッグ機能<a class="article-anchor" href="#その他のデバッグ機能" aria-hidden="true"></a></h3><ul><li>無条件ブレークポイント</li><li>ウォッチ ウィンドウ</li><li>コール スタック</li><li>ステッピング</li></ul><p>VSコードによるデバッグの詳細については、<a href="/docs/editor/debugging.html">debugging in VS Code</a> の入門を参照してください。</p><h2 id="既知の制限" class="article-heading"><a href="#既知の制限" class="headerlink" title="既知の制限"></a>既知の制限<a class="article-anchor" href="#既知の制限" aria-hidden="true"></a></h2><h3 id="シンボルとコードナビゲーション" class="article-heading"><a href="#シンボルとコードナビゲーション" class="headerlink" title="シンボルとコードナビゲーション"></a>シンボルとコードナビゲーション<a class="article-anchor" href="#シンボルとコードナビゲーション" aria-hidden="true"></a></h3><p>All platforms:</p><ul><li>拡張機能は関数本体を解析しないので、関数内で定義したシンボルに対して、定義をここに表示と定義に移動は機能しません。</li></ul><h3 id="デバッグ-1" class="article-heading"><a href="#デバッグ-1" class="headerlink" title="デバッグ"></a>デバッグ<a class="article-anchor" href="#デバッグ-1" aria-hidden="true"></a></h3><p>All platforms:</p><ul><li>コンパイルした場所から現在の場所へのソースファイルマッピングを指定する方法はありません。これは、コンパイルした場所とは別ファイルシステムレイアウトのアプリケーションデバッグを防ぎます。</li></ul><p>(編集メモ: ソースファイルマッピング とは</p><p>Windows:</p><ul><li>Cygwin と MinGW の GDB は、実行中のプロセスを中断することはできません。アプリケーション実行中にブレークポイントを設定、またはデバッグ中のアプリケーションを一時停止するには、アプリケーションのターミナルで <span class="keybinding">Ctrl-C</span> を押します。</li><li>Cygwin の GDB はコアダンプを開くことができません。</li></ul><p>Linux:</p><ul><li>GDB は、プロセスにアタッチするために高い権限を必要とします。<strong>プロセスにアタッチ(attach to process)</strong>を使用する場合、デバッグセッションを開始する前にパスワードを入力します。</li></ul><p>OS X:</p><ul><li>LLDB:<ul><li>LLDB でデバッグする場合、ブレークモード中にターミナルウィンドウを閉じてもデバッグは停止しません。<strong>停止</strong>ボタンを押せば、デバッグを停止できます。</li><li>デバッグを停止してもターミナルウィンドウは閉じられません。</li></ul></li><li>GDB:<br>OS X で GDB を使用するには、追加の手動インストールを完了する必要があります。<a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools" target="_blank" rel="external">README</a> で手動インストール方法を参照してください。<ul><li>GDB でプロセスにアタッチする場合、デバッグ中のアプリケーションを中断できません。GDB は アプリケーションを実行していない間に設定した、ブレークポイントだけをバインドします(アプリケーションにアタッチする前 か アプリケーションが停止している間)。これは、<a href="https://sourceware.org/bugzilla/show_bug.cgi?id=20035" target="_blank" rel="external">GDBバグ</a>によるものです。</li><li>GDB は、<a href="https://www.sourceware.org/ml/gdb/2014-01/msg00036.html" target="_blank" rel="external">OSXで使用するコアダンプ形式をサポートしていない</a>ため、コアダンプをロードできません。</li><li>GDB を持つプロセスにアタッチすると、break-all はプロセスを終了します。</li></ul></li></ul><h2 id="次のステップ" class="article-heading"><a href="#次のステップ" class="headerlink" title="次のステップ"></a>次のステップ<a class="article-anchor" href="#次のステップ" aria-hidden="true"></a></h2><p>次を見てください:</p><ul><li><a href="/docs/editor/editingevolved.html">Editing Evolved</a> - 高度な編集機能の詳細</li><li><a href="/docs/editor/tasks.html">Tasks</a> - プロジェクト構築に使用するタスク</li><li><a href="/docs/editor/debugging.html">Debugging</a> - プロジェクトデバッグの方法</li></ul><h2 id="よくある質問" class="article-heading"><a href="#よくある質問" class="headerlink" title="よくある質問"></a>よくある質問<a class="article-anchor" href="#よくある質問" aria-hidden="true"></a></h2><p><strong>Q: プロジェクトを読み込みません</strong></p><p><strong>A:</strong> 現在 VS Code は C++ プロジェクトファイルをサポートしていませんが、選択したディレクトリをプロジェクトのワークスペースとみなします。そのディレクトリ内のソースコードファイルとそのサブディレクトリは、ワークスペースの一部です。</p><p><strong>Q: IntelliSense が動作しません</strong></p><p><strong>A:</strong> 現在のリリースで IntelliSense はサポートしていません。今後のリリースで、IntelliSenseや多くの機能を実装する予定です。</p><p><strong>Q: どうやってプロジェクトをビルド/実行しますか?</strong></p><p><strong>A:</strong> VS Code は アプリケーションビルドを構成するタスクをサポートし、 MSBuid, CSC, XBuild の出力をネイティブに解析します。詳細は <a href="/docs/editor/tasks.html">Tasks</a> を参照してください。</p><p><strong>Q: なぜワークスペース内に .browse.VC.db ファイルがありますか?</strong></p><p><strong>A:</strong> C/C++ 拡張機能は、ワークスペースのシンボル情報のデータベースを自動的に作成し、ワークスペース<code>.vscode</code> フォルダの <code>.browse.VC.db</code> ファイルに保存します。これは拡張機能のパフォーマンスを向上するものであり、またソース管理に追加するべきものではありません。</p><p>他に質問がある場合や問題が発生した場合は、<a href="https://github.com/Microsoft/vscode-cpptools/issues" target="_blank" rel="external">GitHub</a> に問題を発行してください。</p></div><footer class="article-footer"><time class="article-updated" datetime="2017-03-13T10:50:07.584Z" itemprop="dateModified">Last updated: 2017-03-13</time></footer></div></div><aside id="article-toc" role="navigation"><div id="article-toc-inner"><strong class="sidebar-title">Contents</strong><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Getting-Started"><span class="toc-text">Getting Started</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#コード編集"><span class="toc-text">コード編集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#コード整形"><span class="toc-text">コード整形</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Fuzzy-Auto-Complete-preview"><span class="toc-text">Fuzzy Auto-Complete (preview)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ナビゲーションコード"><span class="toc-text">ナビゲーションコード</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#シンボルサポートを最適化する追加の-Include-ディレクトリを指定"><span class="toc-text">シンボルサポートを最適化する追加の Include ディレクトリを指定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#シンボル検索"><span class="toc-text">シンボル検索</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#定義をここに表示"><span class="toc-text">定義をここに表示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#定義に移動"><span class="toc-text">定義に移動</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#デバッグ"><span class="toc-text">デバッグ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Cygwin-MinGW-上の-GDB-による-Windows-デバッグ"><span class="toc-text">Cygwin/MinGW 上の GDB による Windows デバッグ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#条件付きブレークポイント"><span class="toc-text">条件付きブレークポイント</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#関数ブレークポイント"><span class="toc-text">関数ブレークポイント</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#式の評価"><span class="toc-text">式の評価</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#マルチスレッドのデバッグ"><span class="toc-text">マルチスレッドのデバッグ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#メモリダンプのデバッグ"><span class="toc-text">メモリダンプのデバッグ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#追加のシンボル"><span class="toc-text">追加のシンボル</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ソースファイルの場所"><span class="toc-text">ソースファイルの場所</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GDB-LLDB-MI-コマンド-GDB-LLDB"><span class="toc-text">GDB, LLDB, MI コマンド (GDB/LLDB)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#その他のデバッグ機能"><span class="toc-text">その他のデバッグ機能</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#既知の制限"><span class="toc-text">既知の制限</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#シンボルとコードナビゲーション"><span class="toc-text">シンボルとコードナビゲーション</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#デバッグ-1"><span class="toc-text">デバッグ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#次のステップ"><span class="toc-text">次のステップ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#よくある質問"><span class="toc-text">よくある質問</span></a></li></ol><a href="#" id="article-toc-top">Back to Top</a></div></aside></div></article><aside id="sidebar" role="navigation"><div class="inner"><div class="accordion"><label class="sidebar-title" for="BASIC">BASIC<i></i></label><input id="BASIC" type="checkbox"><div class="ac-cont"><a href="/docs/index.html" class="sidebar-link">Overview</a><a href="/docs/customization/keyboard-shortcuts.html" class="sidebar-link">Keyboard Shortcuts</a></div><label class="sidebar-title" for="SETUP">SETUP<i></i></label><input id="SETUP" type="checkbox"><div class="ac-cont"><a href="/docs/setup/setup-overview.html" class="sidebar-link">Overview</a><a href="/docs/setup/windows.html" class="sidebar-link">Windows</a><a href="/docs/setup/linux.html" class="sidebar-link">Linux</a><a href="/docs/setup/additional-components.html" class="sidebar-link">Additional Components</a></div><label class="sidebar-title" for="EDITOR">EDITOR<i></i></label><input id="EDITOR" type="checkbox"><div class="ac-cont"><a href="/docs/editor/intellisense.html" class="sidebar-link">IntelliSense</a><a href="/docs/editor/versioncontrol.html" class="sidebar-link">Version Control</a><a href="/docs/editor/tabs.html" class="sidebar-link">Tabs</a><a href="/docs/editor/accessibility.html" class="sidebar-link">Accessibility</a><a href="/docs/editor/whyvscode.html" class="sidebar-link">Why VS Code</a></div><label class="sidebar-title" for="CUSTOMIZATION">CUSTOMIZATION<i></i></label><input id="CUSTOMIZATION" type="checkbox"><div class="ac-cont"><a href="/docs/customization/overview.html" class="sidebar-link">Overview</a><a href="/docs/customization/userandworkspace.html" class="sidebar-link">User and Workspace Settings</a><a href="/docs/customization/userdefinedsnippets.html" class="sidebar-link">Snippets</a><a href="/docs/customization/themes.html" class="sidebar-link">Themes</a><a href="/docs/customization/locales.html" class="sidebar-link">Display Language</a></div><label class="sidebar-title" for="LANGUAGES">LANGUAGES<i></i></label><input id="LANGUAGES" type="checkbox" checked><div class="ac-cont"><a href="/docs/languages/overview.html" class="sidebar-link">Overview</a><a href="/docs/languages/cpp.html" class="sidebar-link current">C++</a><a href="/docs/languages/html.html" class="sidebar-link">HTML</a></div><label class="sidebar-title" for="RUNTIMES">RUNTIMES<i></i></label><input id="RUNTIMES" type="checkbox"><div class="ac-cont"><a href="/hoge.html" class="sidebar-link">none</a></div><label class="sidebar-title" for="EXTENSION AUTHORING">EXTENSION AUTHORING<i></i></label><input id="EXTENSION AUTHORING" type="checkbox"><div class="ac-cont"><a href="/hoge.html" class="sidebar-link">none</a></div><label class="sidebar-title" for="EXTENSIBILITY REFERENCE">EXTENSIBILITY REFERENCE<i></i></label><input id="EXTENSIBILITY REFERENCE" type="checkbox"><div class="ac-cont"><a href="/hoge.html" class="sidebar-link">none</a></div><label class="sidebar-title" for="SUPPORTING">SUPPORTING<i></i></label><input id="SUPPORTING" type="checkbox"><div class="ac-cont"><a href="/docs/supporting/errors.html" class="sidebar-link">Errors</a><a href="/docs/supporting/faq.html" class="sidebar-link">FAQ</a><a href="/docs/supporting/requirements.html" class="sidebar-link">Requirements</a></div><label class="sidebar-title" for="TOOLS">TOOLS<i></i></label><input id="TOOLS" type="checkbox"><div class="ac-cont"><a href="/hoge.html" class="sidebar-link">none</a></div></div></div></aside></div></div></div></div><div id="mobile-nav-dimmer"></div><nav id="mobile-nav"><div id="mobile-nav-inner"><ul id="mobile-nav-list"><a href="/docs/" class="mobile-nav-link">Docs</a><a href="/updates/" class="mobile-nav-link">Updates</a></ul><strong class="mobile-nav-title">BASIC</strong><a href="/docs/index.html" class="mobile-nav-link">Overview</a><a href="/docs/customization/keyboard-shortcuts.html" class="mobile-nav-link">Keyboard Shortcuts</a><strong class="mobile-nav-title">SETUP</strong><a href="/docs/setup/setup-overview.html" class="mobile-nav-link">Overview</a><a href="/docs/setup/windows.html" class="mobile-nav-link">Windows</a><a href="/docs/setup/linux.html" class="mobile-nav-link">Linux</a><a href="/docs/setup/additional-components.html" class="mobile-nav-link">Additional Components</a><strong class="mobile-nav-title">EDITOR</strong><a href="/docs/editor/intellisense.html" class="mobile-nav-link">IntelliSense</a><a href="/docs/editor/versioncontrol.html" class="mobile-nav-link">Version Control</a><a href="/docs/editor/tabs.html" class="mobile-nav-link">Tabs</a><a href="/docs/editor/accessibility.html" class="mobile-nav-link">Accessibility</a><a href="/docs/editor/whyvscode.html" class="mobile-nav-link">Why VS Code</a><strong class="mobile-nav-title">CUSTOMIZATION</strong><a href="/docs/customization/overview.html" class="mobile-nav-link">Overview</a><a href="/docs/customization/userandworkspace.html" class="mobile-nav-link">User and Workspace Settings</a><a href="/docs/customization/userdefinedsnippets.html" class="mobile-nav-link">Snippets</a><a href="/docs/customization/themes.html" class="mobile-nav-link">Themes</a><a href="/docs/customization/locales.html" class="mobile-nav-link">Display Language</a><strong class="mobile-nav-title">LANGUAGES</strong><a href="/docs/languages/overview.html" class="mobile-nav-link">Overview</a><a href="/docs/languages/cpp.html" class="mobile-nav-link current">C++</a><a href="/docs/languages/html.html" class="mobile-nav-link">HTML</a><strong class="mobile-nav-title">RUNTIMES</strong><a href="/hoge.html" class="mobile-nav-link">none</a><strong class="mobile-nav-title">EXTENSION AUTHORING</strong><a href="/hoge.html" class="mobile-nav-link">none</a><strong class="mobile-nav-title">EXTENSIBILITY REFERENCE</strong><a href="/hoge.html" class="mobile-nav-link">none</a><strong class="mobile-nav-title">SUPPORTING</strong><a href="/docs/supporting/errors.html" class="mobile-nav-link">Errors</a><a href="/docs/supporting/faq.html" class="mobile-nav-link">FAQ</a><a href="/docs/supporting/requirements.html" class="mobile-nav-link">Requirements</a><strong class="mobile-nav-title">TOOLS</strong><a href="/hoge.html" class="mobile-nav-link">none</a></div></nav><a id="scroll-to-top" role="button" aria-label="scroll to top" onclick="container.scrollTop=0"><span class="icon"></span></a><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script><script src="/js/toc.js"></script><script src="/js/mobile_nav.js"></script><script src="/js/plugins.js"></script></body></html>